<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
<script>
    const firebaseConfig = {
    apiKey: "AIzaSyDVSmOD4MRVeupfQ33Umlry0pjHvVtylkA",
    authDomain: "vintage-reptiles.firebaseapp.com",
    projectId: "vintage-reptiles",
    storageBucket: "vintage-reptiles.appspot.com",
    messagingSenderId: "547191562645",
    appId: "1:547191562645:web:8ccc52ccdde7b239e0969c"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const firestore = firebase.firestore();
  const storage = firebase.storage();

    // Check if the user is authenticated
    firebase.auth().onAuthStateChanged((user) => {
      if (!user) {
        // Redirect to the login page if not authenticated
        window.location.href = 'login.html';
      }
    });

    function uploadGecko() {
      const name = document.getElementById('geckoName').value;
      const description = document.getElementById('geckoDescriptionription').value;
      const geckoImage = document.getElementById('geckoImage').files[0];
      const parentsImage = document.getElementById('parentsImage').files[0];
      const grandparentsImage = document.getElementById('grandparentsImage').files[0];
      const grandparent2Image = document.getElementById('grandparent2Image').files[0];

      // Validate form fields
      if (!name || !description || !geckoImage || !parentsImage || !grandparentsImage || !grandparent2Image) {
        alert('Please fill in all fields');
        return;
      }

      // Upload images to Firebase Storage
      const storageRef = firebase.storage().ref();
      const uploadGeckoTask = storageRef.child(`gecko_images/${geckoImage.name}`).put(geckoImage);
      const uploadParentsTask = storageRef.child(`parent_images/${parentsImage.name}`).put(parentsImage);
      const uploadGrandparent1Task = storageRef.child(`grandparent_images/${grandparentsImage.name}`).put(grandparentsImage);
      const uploadGrandparent2Task = storageRef.child(`grandparent_images/${grandparent2Image.name}`).put(grandparent2Image);

      const geckoImageURL = uploadGeckoTask.ref.getDownloadURL();
      const parentsImageURL = uploadParentsTask.ref.getDownloadURL();
      const grandparentsImageURL = uploadGrandparent1Task.ref.getDownloadURL();
      const grandparent2ImageURL = uploadGrandparent2Task.ref.getDownloadURL();

      firestore.collection('geckos').add({
                name: name,
                gecko: geckoURL,
                parents: parentsImageURL,
                grandparent1: grandparent1URL,
                grandparent2: grandparent2URL
    })
  </script>
  
  <!-- The rest of your uploadForm.html content -->
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <style>
        body
        {
            background-color:#1C1A1B;
        }
        @font-face {
            font-family: Normal;
            src: url('./Tahoma.woff');
        }

        @font-face {
            font-family: Header;
            src: url('./Tahoma Bold.woff');
        }

        .header
        {
        text-align:center;
        color:white;
        font-size:18px;
        font-family:Header;
        text-decoration:underline;
        }

        .pg
        {
        color:white;
        font-size:17px;
        font-family:Normal;
        width:90%;
        max-width:1000px;
        margin-left:auto;
        margin-right:auto;
        text-align:center;
        }
    </style>
  </head>
  <body>
    <!-- ... your body content ... -->
    <!-- Include your upload form HTML and JavaScript here -->
    <h2 class="header">Upload Form</h2>

    <div class="pg">
        <label for="geckoName">Gecko Name:</label>
        <input type="text" id="geckoName" name="geckoName" required>
        <br>
        <label for="geckoDescriptionription">Description:</label>
        <input type="text" id="geckoDescriptionription" name="geckoDiscription" required>
        <br>
        <label for="geckoImage">Gecko Image:</label>
        <input type="file" id="geckoImage" name="geckoImage" accept="image/*" required>
        <br>
        <label for="parentsImage">Parents Image:</label>
        <input type="file" id="parentsImage" name="parentsImage" accept="image/*" required>
        <br>
        <label for="grandparentsImage">Grandparent 1 Image:</label>
        <input type="file" id="grandparentsImage" name="grandparentsImage" accept="image/*" required>
        <br>
        <label for="grandparent2Image">Grandparent 2 Image:</label>
        <input type="file" id="grandparent2Image" name="grandparent2Image" accept="image/*" required>
        <br>
        <button onclick="uploadGecko()">Upload Gecko</button>
      </div>
  </body>
  </html>